# config/services.yaml
services:

  _defaults:
    autowire: true      # Automatically injects dependencies in your services.
    autoconfigure: true # Automatically registers your services as commands, event subscribers, etc.

  # makes classes in src/ available to be used as services
  # this creates a service per class whose id is the fully-qualified class name
  VentureLeap\LeapOnePhpSdk\:
    resource: '../../../src/*'



  VentureLeap\LeapOnePhpSdk\Services\ApiProvider\MessengerApiProvider:
    arguments:
      $messengerServiceHost: '%env(string:LEAP_ONE_ENDPOINT_URL)%'

  VentureLeap\MessengerService\Api\MessageApi:
    factory: [ '@VentureLeap\LeapOnePhpSdk\Services\ApiProvider\MessengerApiProvider', 'getMessageApi' ]

  VentureLeap\MessengerService\Api\TemplateApi:
    factory: [ '@VentureLeap\LeapOnePhpSdk\Services\ApiProvider\MessengerApiProvider', 'getTemplateApi' ]



  VentureLeap\LeapOnePhpSdk\Services\ApiProvider\UserApiProvider:
    arguments:
      $userServiceHost: '%env(string:LEAP_ONE_ENDPOINT_URL)%'

  VentureLeap\UserService\Api\UserApi:
    factory: [ '@VentureLeap\LeapOnePhpSdk\Services\ApiProvider\UserApiProvider', 'getUserApi' ]


  VentureLeap\LeapOnePhpSdk\Services\ApiProvider\AuditLogApiProvider:
    arguments:
      $auditLogServiceHost: '%env(string:LEAP_ONE_ENDPOINT_URL)%'

  VentureLeap\AuditLogService\Api\AuditLogEntryApi:
    factory: [ '@VentureLeap\LeapOnePhpSdk\Services\ApiProvider\AuditLogApiProvider', 'getAuditLogEntryApi' ]



  VentureLeap\LeapOnePhpSdk\Services\ApiProvider\ConfigurationApiProvider:
    arguments:
      $configurationServiceHost: '%env(string:LEAP_ONE_ENDPOINT_URL)%'
      $applicationId: '%env(string:LEAP_ONE_APP_ID)%'
      $applicationSecret: '%env(string:LEAP_ONE_APP_SECRET)%'

  VentureLeap\ConfigurationService\Api\ConfigurationEntryApi:
    factory: [ '@VentureLeap\LeapOnePhpSdk\Services\ApiProvider\ConfigurationApiProvider', 'getConfigurationApi' ]

  VentureLeap\ConfigurationService\Api\TokenApi:
    factory: [ '@VentureLeap\LeapOnePhpSdk\Services\ApiProvider\ConfigurationApiProvider', 'getTokenApi' ]


  leap_one.login_form_authenticator:
    class: VentureLeap\LeapOnePhpSdk\Services\Security\LoginFormAuthenticator
    public: true
    tags: [ 'leap_one.login_form_authenticators' ]